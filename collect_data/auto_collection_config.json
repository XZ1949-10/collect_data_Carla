{
    "_comment_file": "全自动Town01数据收集器配置文件",
    "_comment_usage": "修改此文件可以自定义收集参数，无需修改代码",
    
    "carla_settings": {
        "_comment": "CARLA服务器连接设置",
        "host": "localhost",
        "_comment_host": "CARLA服务器地址，本地运行使用localhost",
        "port": 2000,
        "_comment_port": "CARLA服务器端口，默认2000",
        "town": "Town01",
        "_comment_town": "地图名称，可选：Town01-Town10"
    },
    
    "traffic_rules": {
        "_comment": "交通规则配置，控制车辆行为",
        "ignore_traffic_lights": true,
        "_comment_ignore_traffic_lights": "是否忽略红绿灯（true=忽略，车辆不会在红灯前停车）",
        "ignore_signs": true,
        "_comment_ignore_signs": "是否忽略停车标志（true=忽略，车辆不会在STOP标志前停车）",
        "ignore_vehicles_percentage": 0,
        "_comment_ignore_vehicles_percentage": "忽略其他车辆的百分比（0-100），值越高越不避让其他车辆"
    },
    
    "world_settings": {
        "_comment": "世界环境配置",
        "spawn_npc_vehicles": false,
        "_comment_spawn_npc_vehicles": "是否生成NPC车辆（false=不生成，场景中只有数据收集车辆；true=生成其他车辆）",
        "num_npc_vehicles": 0,
        "_comment_num_npc_vehicles": "NPC车辆数量（仅在spawn_npc_vehicles=true时有效），推荐值：0-50",
        "spawn_npc_walkers": false,
        "_comment_spawn_npc_walkers": "是否生成NPC行人（false=不生成；true=生成行人）",
        "num_npc_walkers": 0,
        "_comment_num_npc_walkers": "NPC行人数量（仅在spawn_npc_walkers=true时有效），推荐值：0-100"
    },
    
    "weather_settings": {
        "_comment": "天气配置 - 所有值范围0.0-100.0（百分比）",
        "preset": "CloudyNoon",
        "_comment_preset": "天气预设：ClearNoon, CloudyNoon, WetNoon, WetCloudyNoon, SoftRainNoon, MidRainyNoon, HardRainNoon, ClearSunset, CloudySunset, WetSunset, WetCloudySunset, SoftRainSunset, MidRainSunset, HardRainSunset, ClearNight, CloudyNight, WetNight, WetCloudyNight, SoftRainNight, MidRainyNight, HardRainNight, DustStorm（设为null使用自定义参数）",
        "custom": {
            "_comment": "自定义天气参数（仅当preset=null时生效）",
            "cloudiness": 0.0,
            "_comment_cloudiness": "云量 0-100",
            "precipitation": 0.0,
            "_comment_precipitation": "降水量 0-100",
            "precipitation_deposits": 0.0,
            "_comment_precipitation_deposits": "地面积水 0-100",
            "wind_intensity": 0.0,
            "_comment_wind_intensity": "风力强度 0-100",
            "sun_azimuth_angle": 0.0,
            "_comment_sun_azimuth_angle": "太阳方位角 0-360",
            "sun_altitude_angle": 75.0,
            "_comment_sun_altitude_angle": "太阳高度角 -90到90（负值=夜晚）",
            "fog_density": 0.0,
            "_comment_fog_density": "雾密度 0-100",
            "fog_distance": 0.0,
            "_comment_fog_distance": "雾起始距离（米）",
            "wetness": 0.0,
            "_comment_wetness": "地面湿度 0-100"
        }
    },
    
    "route_generation": {
        "_comment": "路线生成策略配置",
        "strategy": "smart",
        "_comment_strategy": "路线生成策略：smart=智能选择（约150条路线），exhaustive=穷举所有（约5000条路线）",
        "min_distance": 80.0,
        "_comment_min_distance": "最小路线距离（米），过短的路线会被过滤",
        "max_distance": 500.0,
        "_comment_max_distance": "最大路线距离（米），过长的路线会被过滤",
        "description": "smart=智能选择路线（推荐），exhaustive=穷举所有组合（数量巨大）"
    },
    
    "collection_settings": {
        "_comment": "数据收集参数配置",
        "frames_per_route": 1000,
        "_comment_frames_per_route": "每条路线收集的最大帧数，实际可能因到达终点而提前结束",
        "save_path": "E://carla_data",
        "_comment_save_path": "数据保存路径，相对路径或绝对路径均可",
        "auto_save_interval": 200,
        "_comment_auto_save_interval": "自动保存间隔（帧数），每收集N帧自动保存一次",
        "simulation_fps": 20,
        "_comment_simulation_fps": "模拟帧率（FPS），推荐值：10-30，值越高数据越密集但性能要求越高",
        "target_speed_kmh": 20.0,
        "_comment_target_speed_kmh": "车辆目标速度（km/h），推荐值：5-8，速度越低转弯越稳定（防止冲上马路牙子）"
    },
    
    "multi_weather_settings": {
        "_comment": "多天气轮换收集配置",
        "enabled": true,
        "_comment_enabled": "是否启用多天气轮换（true=启用，每个天气收集完后自动切换下一个）",
        "weather_preset": "full",
        "_comment_weather_preset": "天气组合预设：all_noon/all_sunset/all_night/clear_all/rain_all/basic/full",
        "custom_weather_list": [],
        "_comment_custom_weather_list": "自定义天气列表（优先于preset），如：[\"ClearNoon\", \"CloudyNoon\", \"WetNoon\"]",
        "_available_presets": {
            "all_noon": "所有正午天气（5种）",
            "all_sunset": "所有日落天气（5种）",
            "all_night": "所有夜晚天气（5种）",
            "clear_all": "所有晴朗天气（3种）",
            "rain_all": "所有雨天（5种）",
            "basic": "基础组合（4种）：晴朗正午、多云正午、晴朗日落、晴朗夜晚",
            "full": "完整组合（11种）：覆盖主要天气场景"
        }
    },
    
    "advanced_settings": {
        "_comment": "高级设置，一般不需要修改",
        "enable_route_validation": true,
        "_comment_enable_route_validation": "是否启用路线验证（true=验证路线可达性，false=跳过验证）",
        "retry_failed_routes": false,
        "_comment_retry_failed_routes": "是否重试失败的路线（true=重试，false=跳过）",
        "max_retries": 3,
        "_comment_max_retries": "最大重试次数（仅在retry_failed_routes=true时有效）",
        "pause_between_routes": 2,
        "_comment_pause_between_routes": "路线之间的暂停时间（秒），用于清理资源"
    },
    
    "_comment_tips": "使用建议",
    "_tips": [
        "快速测试：frames_per_route=200, min_distance=100, max_distance=300",
        "标准收集：frames_per_route=1000, min_distance=50, max_distance=500",
        "完整收集：strategy=exhaustive（需要很长时间！）",
        "磁盘空间：每1000帧约50MB，请确保有足够空间"
    ]
}
